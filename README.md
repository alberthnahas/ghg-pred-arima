# Greenhouse Gas Concentration Forecasting using SARIMA

This project forecasts the concentrations of four major greenhouse gases (GHGs)—Carbon Dioxide ($CO₂$), Methane ($CH₄$), Nitrous Oxide ($N₂O$), and Sulfur Hexafluoride ($SF₆$)—for the next six months using a Seasonal Autoregressive Integrated Moving Average (SARIMA) model. It also generates an interactive HTML visualization of the historical data and the forecasts.


## Table of Contents
* [Overview](#overview)
* [The SARIMA Model](#the-sarima-model)
* [Files in This Repository](#files-in-this-repository)
* [Getting Started](#getting-started)
* [Output](#output)
* [Contributing](#contributing)
* [Author](#author)
* [License](#license)


## Overview
The core of this project is a Python script (`prediction.py`) that automates the entire forecasting pipeline:

* **Data Ingestion**: Fetches the latest monthly GHG concentration data from a public Google Sheet.
* **Data Preparation**: Cleans the data by handling missing values and preparing it for time-series analysis.
* **Model Optimization**: For each gas, it performs a grid search to identify the optimal `(p, d, q)` and seasonal `(P, D, Q, s)` parameters for the SARIMA model based on the Akaike Information Criterion (AIC).
* **Forecasting**: Fits the optimized SARIMA model to the historical data and generates a forecast for the next 6 months, including 95% confidence intervals.
* **Output Generation**: Saves the numerical forecasts to a CSV file and creates a comprehensive, interactive 2x2 panel chart in an HTML file using Plotly for easy visualization and analysis.


## The SARIMA Model
SARIMA (Seasonal Autoregressive Integrated Moving Average) is a powerful statistical model used for analyzing and forecasting time-series data that exhibits seasonality. It is an extension of the ARIMA model and is well-suited for data with repeating cycles, such as the monthly GHG concentrations in this project. The model is defined by the `(p,d,q)(P,D,Q)s` notation, which represents the non-seasonal and seasonal orders of the model.


## Files in This Repository
* `prediction.py`: The main Python script that runs the entire data processing and forecasting workflow.
* `ghg_sarima_forecasts_next_6_months.csv`: An example output file containing the 6-month forecast for each gas, along with the lower and upper bounds of the 95% confidence interval.
* `index.html`: The interactive HTML plot generated by the script. Open this file in a web browser to explore the results.
* `logo_bmkg.png`: The logo image used for branding the plot.
* `README.md`: This documentation file.


## Getting Started
Follow these instructions to get a copy of the project up and running on your local machine.

### Prerequisites
The script requires Python 3.9+ and the following libraries. You can install them using `pip`:
```bash
pip install pandas statsmodels plotly
```

### Installation & Usage
1.  **Clone the repository:**
    ```bash
    git clone [https://github.com/alberthnahas/ghg-pred-arima.git](https://github.com/alberthnahas/ghg-pred-arima.git)
    cd ghg-pred-arima
    ```
2.  **Create and populate `requirements.txt` (optional but recommended):**
    ```bash
    echo -e "pandas\nstatsmodels\nplotly" > requirements.txt
    pip install -r requirements.txt
    ```
3.  **Run the script:**
    Ensure the `logo_bmkg.png` file is in the same directory as the script. Then, execute the script from your terminal:
    ```bash
    python prediction.py
    ```


## Output
After running the script, two new files will be generated in the project directory:

1.  **`ghg_sarima_forecasts_next_6_months.csv`**: A CSV file with the following columns:
    * `Gas`: The name of the greenhouse gas.
    * `Date`: The forecasted month.
    * `Forecast`: The predicted mean concentration.
    * `Lower_CI`: The lower bound of the 95% confidence interval.
    * `Upper_CI`: The upper bound of the 95% confidence interval.

2.  **`index.html`**: An interactive HTML file. You can open it in any modern web browser to see the visualizations. The chart allows you to:
    * Hover over data points to see exact values.
    * Toggle the visibility of different gases.
    * Zoom and pan to explore specific time periods.


## Contributing
Contributions are welcome! If you have any suggestions or find a bug, please open an issue or submit a pull request.

1.  Fork the Project
2.  Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3.  Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4.  Push to the Branch (`git push origin feature/AmazingFeature`)
5.  Open a Pull Request


## Author
Alberth Nahas - `alberth.nahas@bmkg.go.id`
